<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<style>
@font-face {
    font-family: main2;
    src: url(../CSS/font/PyeongChang-Regular.ttf);
}
@font-face {
    font-family: mainB2;
    src: url(../CSS/font/PyeongChang-Bold.ttf);
}
:root{
    --color1 : #2B2B2B;/*검은 글씨색*/
    --color2 : #FAF8F1;/*푸터 배경색*/
    --color3 : #FAEAB1;/**/
    --color4 : #E5BA73;/*버튼색, 로고, 페이지 제목*/
    --color5 : #C58940;/*푸터 두꺼운 글씨, 선 그을때*/
    --color6 : #EAC88F;/*버튼 호버한 경우 색*/
    --color7 : #FF6868;/*경고색*/
    --color8 : #D9D9D9;/*취소버튼*/
}

*{
    margin: 0px;
    padding: 0px;
    color: #2B2B2B;
    font-family: mainB2;
}
.content-detail{
    width: 400px;
    margin: 0 auto;
    text-align: center;
    padding-bottom: 20px;
}
.content-detail>h2{
    color: var(--color4);
    margin-top: 30px;
}

.content-title-tbl{
	width: 905px;
	margin: 0 auto;
	border: 1px solid #ccc;
	border-spacing: 0;
}
.content-title-tbl>tbody>tr{
	border-bottom: 1px solid #ccc;
}

.content-title-tbl>tbody>tr:first-child>th{
	height: 50px;
	font-size: 20px;
	background-color: #E5BA73;
	color: #ffffff;
	
}


.content-title-tbl>tbody>tr:nth-child(2){
	height: 50px;
	border-bottom: 1px solid #ccc;
}
.content-title-tbl>tbody>tr:nth-child(2)>th{
	background-color: #FAF8F1;
	font-size: 18px;
	
}
.content-title-tbl>tbody>tr:nth-child(3)>th{
	height: 50px;
	background-color: #FAF8F1;
	font-size: 18px;
}
.content-title-tbl>tbody>tr:nth-child(4){
	height: 300px;
}

.content-title-tbl>tbody>tr:last-child{
	text-align: center;
	height: 80px;
}
.content-title-tbl>tbody>tr:last-child>td{
	border-top: 1px solid #ccc;
}
[class^="btn-"] {
  cursor: pointer;
  font-size: 20px;
  padding: 9px 20px;
  border: none;
  border-radius: 5px;
  font-family: ns-b;
  text-align:center;
  box-sizing: border-box;
}
.btn-a:hover{
	background-color:  #C58940;
}
.btn-a {
  border: 1px solid #ccc;
  background-color: #E5BA73;
  color: #ffffff;
}
.btn-button {
  border: 1px solid #ccc;
  background-color: #D9D9D9;
  color: #ffffff;
}

.inputCommentBox{
	width: 900px;
	margin: 30px auto;
	height: 100px;
	
}
.inputCommentBox>form>ul>li{
	list-style-type: none;
}
.inputCommentBox>form>ul{
	display: flex;
}
.inputCommentBox>form>ul>li:first-child{
	width: 200px;
	text-align: center;
}
.inputCommentBox>form>ul>li:first-child>span{
	font-size: 100px;
	color: #D9D9D9;
}

.inputCommentBox>form>ul>li:nth-child(2){
	width: 500px;
	text-align: center;	
}

.inputCommentBox>form>ul>li:nth-child(2)>div>textarea{
	width: 100%;
	line-height: 40px;
	resize: none;
	margin-top: 10px;
}

.inputCommentBox>form>ul>li:nth-child(3){
	width: 200px;
	text-align: center;	
}
.inputCommentBox>form>ul>li:nth-child(3)>button{
	width: 100px;
	height: 80px;
	border-radius: 15px;
	border: none;
	background-color: #E5BA73;
	color: #ffffff;
	font-size: 25px;
	font-famliy: main2;
	font-weight: 900;
	margin-top: 10px;
}
.comment-content{
	width: 900px;
	border: 1px solid black;
	background-color: #ccc;
}
</style>
<body>
	<th:block th:include="common/header"></th:block>
	<div class="content-question-main">
            <div class="content-detail">
                <h2>문의사항 상세보기</h2>
            </div>


			<table class="content-title-tbl">
				<!-- tr th:text="${q.questionTitle} 들어가야함-->
				<tr>
					<th colspan="4">
						문의사항 제목
					</th>
				</tr>
				<tr>
					<th style="width:20%;">작성자</th>
					<td style="width:30%;" th:text="${q.questionWriter}"></td>
					<th style="width:20%;">작성일</th>
					<td style="width:30%;" th:text="${q.regDate}"></td>
				</tr>
				<tr>
					<th>첨부파일</th>
					<td colspan="3">
						<th:block th:each="file : ${q.fileList}">
							<img src="/image/default.png" style="width:16px;">
							<a th:href="@{/question/filedown(questionFileNo=${file.questionFileNo})}" th:text=${file.filename}></a>
							
						</th:block>
					</td>
				</tr>
				<tr>
					<td colspan="4">
						<div id="questionContent" th:utext="${q.questionContentBr}"></div>
					</td>
				</tr>
				<tr th:if="${session.member != null && session.member.memberId == q.questionWriter}">
					<td colspan="4">					
						<a class="btn-a">수정</a>
						<!--  th:href="@{/question/updateFrm(questionNo=${q.questionNo})}" -->
						<button class="btn-button">삭제</button>
					</td>
				</tr>
			</table>
			
			<div class="inputCommentBox" th:if="${session.member != null}"> 
				<form action="/question/insertComment" method="post">
					<ul>
						<li>
							<span class="material-icons">account_box</span>
						</li>
						<li>
							<input type="hidden" name="questionCommentWriter" th:value="${session.member.memberId}" >
							<input type="hidden" name="questionRef" th:value="${q.questionNo}">
							<div>
								<textarea name="questionCommentContent"></textarea>
							</div>
						</li>
						<li>
							<button type="submit">등록</button>
						</li>
					</ul>
				</form>
			</div>
			
			<th:block th:each="qc : ${q.questionList}" th:if="${qc.questionCommentRef == 0}">
				<ul class="comment-content">
					<li>
						<span class="material-icons">account_box</span>
					</li>
					<li>
						<p>
							<span th:text="${qc.questionCommentWriter}"></span>
							<span th:text="${qc.questionCommentDate}"></span>
						</p>
						<p th:text="${qc.questionCommentContent}"></p>
						<div th:if="${session.member != null && session.member.memberId == qc.questionCommentWriter}">
							<textarea name="noticeCommentContent"></textarea>
						</div>
					</li>
				</ul>
			</th:block>
			
		</div>
        <th:block th:include="common/footer"></th:block>
</body>
</html>